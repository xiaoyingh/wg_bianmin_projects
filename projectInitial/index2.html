<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>国办政务云</title>
    <link rel="stylesheet" href="css/wf_base.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/wf_fonts.css">
    <link rel="stylesheet" href="css/jquery.lineProgressbar.min.css">
    <link rel="stylesheet" href="css/wf_index.css">
    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/tendina.js"></script>

    <!-- bootstarp 字体图标加入 -->
    <link rel="stylesheet" href="assets/vendor/font-awesome/css/font-awesome.min.css">

    <link rel="stylesheet" href="assets/vendor/themify-icons/css/themify-icons.css">
    <!-- my fonts 字体图标加入 -->

    <link rel="stylesheet" href="css/myfonts.css">
    <script src="js/echarts.min.js"></script>
    <!-- bootstarp table  组件加载 -->
    <link rel="stylesheet" href="css/dataTables/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="css/topic_style.css">
    <script src="js/bootstrap-table.js"></script>

    <!-- table 组件加入 -->
    <link rel="stylesheet" href="css/jquery.dataTables.min.css">
    <script src="js/jquery.dataTables.min.js"></script>
    <!-- 3d词云插件加载 -->
    <script src="js/jquery.svg3dtagcloud.min.js"></script>

    <!-- echarts 地图加入 -->
    <script src="js/world.js" type="text/javascript" charset="utf-8"></script>

    <script src="js/china.js" type="text/javascript" charset="utf-8"></script>

    <!-- 进度调插件加入 -->
    <script src="js/jquery.lineProgressbar.js"></script>

    <!-- 时间插件加入 -->
    <link rel="stylesheet" type="text/css" href="js/datepicker/daterangepicker-bs3.css" />
    <script src="js/datepicker/moment.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/datepicker/daterangepicker.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/bootstrap-daterangepicker/option.js" type="text/javascript" charset="utf-8"></script>
    <style>
        .service_box {
            background: #fff;
        }

        .theme {
            height: 50px;
            width: 100%;
            background: #fff;
            display: flex;
            line-height: 50px;
            margin-bottom: 6px;
        }

        .theme .theme_msg {
            flex: 0 0 80px;
            text-align: right;
            font-size: 16px;
            color: #5594d4;
            line-height: 50px;
        }

        .theme .theme_list {
            padding: 10px 0;
        }

        .active {
            background: #5594d4;
            color: #fff !important;
        }

        .theme .theme_list li {
            float: left;
            height: 30px;
            line-height: 30px;
            padding: 0px 10px;
            border-radius: 5px;
            color: #25579d;
            cursor: pointer;
        }

        /* 采集刻画小图标 */

        .caiIcon {
            height: 25px;
            width: 25px;
            display: inline-block;
            background: url("img/cai.png") no-repeat;
        }

        /* 系统退出 */

        .sign_out {
            float: right;
            margin-right: 30px;
            color: #989d9c;
        }

        .sign_out span {
            font-size: 16px;
        }

        /* 热点地域排行列表 */

        .ser_content {
            flex: 1;
        }

        .ser_content .title {
            height: 38px;
            line-height: 21px;
            padding: 0;
        }

        .ser_content .title p {
            padding-left: 0px;
            color: #000;
            font-size: 16px;
        }

        .service_box li {
            border-bottom: 1px dashed #9cb0ba;
            color: #383833;
            padding-top: 15px;
            padding-bottom: 30px;
        }

        .ser_content .msg p {
            color: #6c6c6c;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            margin-bottom: 16px;

        }

        .ser_content .footer>span {
            margin-right: 22px;
        }

        .ser_content .footer span {
            color: #9d9e99;
        }

        .fixed-table-loading {
            display: none;
        }

        .textC {
            text-align: center;
        }

        /* 格式化barcss */

        .progressbar {
            margin-bottom: 0;
            background: transparent !important;
        }

        .percentCount {
            display: none !important;
        }

        /* 渠道列表 */

        .headers li {
            float: left;
            padding: 4px 22px;
            cursor: pointer;
            margin-left: -1px;
            border: 1px solid #cececf;
        }

        .headers .usre_active {
            background: #45b648;
            border: 1px solid #45b648;
            color: #fff;
        }

        table.dataTable thead th {
            background: #f3f6f8;
            border: 1px solid #e5e8ea;
            text-align: center;
        }

        table.dataTable tbody td {
            text-align: center;
        }

        table.dataTable thead .time:after {
            bottom: 30px;
            right: 30px;
        }

        .dataTables_wrapper {
            margin-top: -5px;
        }

        .wid60 {
            width: 60px;
        }
        table.dataTable.no-footer {
            border-bottom:1px solid #ddd;
        }

        #table1 thead th {
            border: 0;
        }

        #table1 tbody tr td{
            border-bottom:1px solid #e8e8e9;
        }
        /* 时间导出css */

        .select_date {
            background: #f3f6f8;
            line-height: 36px;
            padding: 0 10px;
        }

        .select_date select {
            float: left;
            background: #f3f6f8;
            border: 1px solid #f3f6f8;
            height: 36px;
            line-height: 36px;
            outline: none;
        }

        .select_date .export {
            float: right;
        }
    </style>
</head>

<body>
    <!-- <div class="header clearfix">
        <div class="logo">
            <img src="img/logo.png" alt="" width="48" height="48">
        </div>
        <p class="header-msg">政务综合数据辅助决策系统</p>
    </div> -->

    <!-- 侧边栏 -->
    <div class="main">
        <div class="sidebar">
            <div class="title">
                <p>LOGO</p>
            </div>
            <div class="list">
                <ul id="menu">
                    <li>
                        <a href="./index.html">
                            <span class="glyphicon icon-fl"></span>留言舆情分析</a>
                    </li>
                    <li>
                        <a href="./index1.html">
                            <span class="glyphicon glyphicon-search"></span>个性化推送管理</a>
                    </li>
                    <li style="background: #3697c9;position:relative;">
                        <span style="position:absolute;height:100%;width:5px;display:block;background:#f5b96c;"></span>
                        <a href="./index2.html">
                            <span class="glyphicon icon-tb" style="font-size: 18px;"></span>日志管理</a>

                    </li>
                    <li>
                        <a href="./index3.html">
                            <span class="glyphicon icon-rl"></span>服务分析</a>

                    </li>
                    <li>
                        <a href="./index4.html">
                            <span class="glyphicon icon-cj"></span>用户刻画</a>
                        </a>

                    </li>
                </ul>
            </div>
        </div>
        <!-- 主题内容 -->
        <div class="content" style="padding: 0 15px;">
            <div class="content-show">
                <div class="title">
                    <span class="glyphicon glyphicon-th-list" style="color:#7ea3c6;font-size: 16px;"></span>
                    <p>欢迎访问管理系统</p>
                    <div class="sign_out">
                        <span class="icon-fh"></span>
                        <span>退出系统</span>
                    </div>
                </div>

                <div class="theme">
                    <div class="theme_msg">主题：</div>
                    <div class="theme_list">
                        <ul>
                            <li class="active">北京酷暑新高</li>
                            <li>2018高考话题</li>
                            <li>便民服务</li>
                            <li>部门地方大厅</li>
                            <li>政府权责清单</li>
                            <li>服务搜索</li>
                            <li>服务专题</li>
                        </ul>
                    </div>
                </div>

                <div class="service_box clearfix">
                    <div class="col-md-6 pl0">
                        <div class="panel">
                            <div class="panel-heading">
                                <span class="glyphicon fa fa-file-text-o"></span>
                                <h3 class="panel-title">热点地域TOP10</h3>
                                <!-- 热点地域TOP10 -->
                            </div>
                            <div class="panel-body" style="padding-left: 30px;">
                                <ul>
                                    <li>
                                        <div class="ser_content">
                                            <div class="title">
                                                <p>李克强:积极支持民间资本控股|常务会日历</p>
                                            </div>
                                            <div class="msg">
                                                <p>8月16日的国务院常务会议，每人案前摆放着一份关于进一步促进民间投资和民营经济发展的材料，其中相当于篇幅是拟向民间资本推介其中相当于篇幅是拟向民间资本推介</p>
                                            </div>
                                            <div class="footer">
                                                <span>
                                                    <span class="fa fa-globe" style="color:#1f4bd9;"></span>
                                                    <span>同花顺财经</span>
                                                </span>
                                                <span>
                                                    <span>2018-08-17 22:06:08</span>
                                                </span>
                                                <span>
                                                    <span>行业媒体</span>
                                                </span>
                                                <span>
                                                    <span class="fa fa-meh-o" style="color:#f252a9;"></span>
                                                    <span>负面</span>
                                                </span>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="ser_content">
                                            <div class="title">
                                                <p>这些烦恼你的“证明”，国务院出硬招清理</p>
                                            </div>
                                            <div class="msg">
                                                <p>8月16日的国务院常务会议，每人案前摆放在一份关于进一步促进民间投资和民间经营发展的回报材料，其中相当篇幅是拟向民间投资推荐</p>
                                            </div>
                                            <div class="footer">
                                                <span>
                                                    <span class="fa fa-globe" style="color:#1f4bd9;"></span>
                                                    <span>同花顺财经</span>
                                                </span>
                                                <span>
                                                    <span>2018-08-17 22:06:08</span>
                                                </span>
                                                <span>
                                                    <span>行业媒体</span>
                                                </span>
                                                <span>
                                                    <span class="fa fa-meh-o" style="color:#f252a9;"></span>
                                                    <span>负面</span>
                                                </span>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="ser_content">
                                            <div class="title">
                                                <p>胡春华主持召开2019北京世园会组委会会议</p>
                                            </div>
                                            <div class="msg">
                                                <p>8月16日的国务院常务会议，每人案前摆放着一份关于进一步促进民间投资和民营经济发展的材料，其中相当于篇幅是拟向民间资本推介其中相当于篇幅是拟向民间资本推介</p>
                                            </div>
                                            <div class="footer">
                                                <span>
                                                    <span class="fa fa-globe" style="color:#1f4bd9;"></span>
                                                    <span>同花顺财经</span>
                                                </span>
                                                <span>
                                                    <span>2018-08-17 22:06:08</span>
                                                </span>
                                                <span>
                                                    <span>行业媒体</span>
                                                </span>
                                                <span>
                                                    <span class="fa fa-meh-o" style="color:#f252a9;"></span>
                                                    <span>负面</span>
                                                </span>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="ser_content">
                                            <div class="title">
                                                <p>创新推进产业升级 新动能带来发展的“底气”</p>
                                            </div>
                                            <div class="msg">
                                                <p>8月16日的国务院常务会议，每人案前摆放着一份关于进一步促进民间投资和民营经济发展的材料，其中相当于篇幅是拟向民间资本推介其中相当于篇幅是拟向民间资本推介</p>
                                            </div>
                                            <div class="footer">
                                                <span>
                                                    <span class="fa fa-globe" style="color:#1f4bd9;"></span>
                                                    <span>同花顺财经</span>
                                                </span>
                                                <span>
                                                    <span>2018-08-17 22:06:08</span>
                                                </span>
                                                <span>
                                                    <span>行业媒体</span>
                                                </span>
                                                <span>
                                                    <span class="fa fa-meh-o" style="color:#f252a9;"></span>
                                                    <span>负面</span>
                                                </span>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 pl0">
                        <div class="panel">
                            <div class="panel-heading">
                                <span class="glyphicon fa fa-file-text-o"></span>
                                <h3 class="panel-title">热点地域TOP10</h3>
                                <!-- 热点地域TOP10 -->
                            </div>
                            <div class="panel-body" id="hot_area" style="height:300px;">

                            </div>
                        </div>
                        <div class="panel">
                            <div class="panel-heading">
                                <span class="glyphicon fa fa-file-text-o"></span>
                                <h3 class="panel-title">访问渠道</h3>
                                <!-- 访问渠道 -->
                            </div>
                            <div class="panel-body" style="position:relative;">
                                <div id="channel" style="height:300px;">

                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 性别分布 -->
                    <div class="col-md-12 pl0">
                        <div class="panel">
                            <div class="panel-heading">
                                <span class="glyphicon fa fa-file-text-o"></span>
                                <h3 class="panel-title">性别分布</h3>
                                <!-- 性别分布 -->
                            </div>
                            <div class="panel-body" id="sex" style="height:200px;">

                            </div>
                        </div>
                    </div>


                    <!-- 用户地区分布 -->
                    <div class="col-md-12 pl0">
                        <div class="panel">
                            <div class="panel-heading">
                                <span class="glyphicon fa fa-file-text-o"></span>
                                <h3 class="panel-title">用户地区分布</h3>
                                <!-- 用户地区分布 -->
                            </div>
                            <div class="panel-body  col-md-8" id="user_area" style="height:450px;">

                            </div>
                            <div class="panel-body  col-md-4" id="user_list">

                            </div>
                        </div>
                    </div>

                    <!-- 用户地区分布 -->
                    <div class="col-md-12 pl0">
                        <div class="panel">
                            <div class="panel-heading">
                                <span class="glyphicon fa fa-file-text-o"></span>
                                <h3 class="panel-title">用户地区分布</h3>
                                <!-- 用户地区分布 -->
                            </div>
                            <div class="panel-body">
                                <!-- 用户渠道列表 -->
                                <div class="headers clearfix">
                                    <ul>
                                        <li class="usre_active">全部渠道</li>
                                        <li>公众号会话</li>
                                        <li>好友转发</li>
                                        <li>朋友圈</li>
                                        <li>历史消息</li>
                                        <li>看一看</li>
                                        <li>搜一搜</li>
                                        <li>其他</li>
                                    </ul>
                                </div>
                                <div class="body" id="user_trend" style="height:350px;">

                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="col-md-12 pl0">
                        <div class="panel">
                            <div class="panel-body">
                                <div class="select_date clearfix">
                                    <select name="" id="">
                                        <option value="">2018-07-18 至 2018-08-16</option>
                                        <option value="">2018-08-08 至 2018-08-16</option>
                                        <option value="">2018-08-01 至 2018-08-16</option>
                                    </select>
                                    <span class="export" style="color:#546b9f;">
                                        导出Excel
                                    </span>
                                </div>
                                <table id="example" class="display" cellspacing="0" width="100%">
                                    <thead>
                                        <tr>
                                            <th rowspan="2" class="time">时间</th>
                                            <th colspan="2">图文总阅读</th>
                                            <th colspan="2">公众号会话阅读</th>
                                            <th colspan="2">朋友圈阅读</th>
                                            <th colspan="2">分享转发</th>
                                            <th colspan="2">微信收藏人数</th>
                                        </tr>
                                        <tr>
                                            <th>人数</th>
                                            <th>次数</th>
                                            <th>人数</th>
                                            <th>次数</th>
                                            <th>人数</th>
                                            <th>次数</th>
                                            <th>人数</th>
                                            <th>次数</th>
                                            <th>人数</th>
                                            <th>次数</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                        <tr>
                                            <td>2018-08-16</td>
                                            <td>22</td>
                                            <td>43</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                            <td>61</td>
                                            <td>324</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- 弹窗添加内容 -->

    <div id="addTask"></div>
    <script>
        $('#menu').tendina();
        $(".theme_list li").unbind().click(function () {
            $(this).addClass("active").siblings().removeClass("active");
            getHotData();
            getChannelData();
            sexCharts();
            getUserData();
        })
        $(".theme_list li").eq(0).click();

        // 热点地域热词
        function getHotData(){
        	var hotData = [
	            { view: "武汉 长沙", ids: "40205" },
	            { view: "天津 重庆", ids: "40205" },
	            { view: "连云港", ids: "40205" },
	            { view: "北京 上海", ids: "40205" },
	            { view: "深圳", ids: "40205" },
	            { view: "成都 桂林", ids: "40205" },
	            { view: "青岛 南宁 大连", ids: "40205" },
	            { view: "合肥 南京 黑龙江", ids: "40205" },
	            { view: "长春 哈尔滨", ids: "40205" },
	            { view: "徐州 青岛", ids: "40205" },
	        ]
	        var entries_ = [];
	        hotData.forEach(function (v, i) {
	            if (i < 3) {
	                entries_.push({
	                    label: v.view,
	                    "hot": 1
	                })
	            } else if (i < 6) {
	                entries_.push({
	                    label: v.view,
	                    "hot": 2
	                })
	            } else {
	                entries_.push({
	                    label: v.view
	                })
	            }
	
	        });
	        hotArea(entries_);
        }
        function hotArea(entries_){
        	var settings = {
	            entries: entries_,
	            width: $("#hot_area").width(),
	            height: $("#hot_area").height(),
	            radius: '100%',
	            // radiusMin: 75,
	            bgDraw: false,
	            opacityOver: 1.00,
	            opacityOut: 0.05,
	            opacitySpeed: 6,
	            fov: 800,
	            speed: 0.5,
	            fontFamily: 'Oswald, Arial, sans-serif',
	            fontSize: '22',
	            fontColor: '#19aff9',
	            fontWeight: 'normal',
	            fontStyle: 'normal',
	            fontStretch: 'normal',
	            fontToUpperCase: true
	        };
	        $('#hot_area').svg3DTagCloud(settings);
        }
        

        //  访问渠道
        function getChannelData(){
        	var channelData = [
	            { name: "朋友圈", value: 85376 },
	            { name: "会话", value: 55376 },
	            { name: "搜一搜", value: 25376 }
	        ];
	        channelDataCharts(channelData);
        }
        function channelDataCharts(channelData){
        	var myChart = echarts.init(document.getElementById('channel'));
	        option = {
	            color: ['#5bbfe9', '#53cdc9', '#f6857a'],
	            title: {
	                text: '6251次',
	                x: 'center',
	                y: 'center',
	                subtext: '3738人',
	                textStyle: {
	                    fontWeight: 'normal',
	                    color: '#298fb8',
	                    fontWeight: 'bold',
	                    fontSize: '18'
	                },
	                subtextStyle: {
	                    fontWeight: 'normal',
	                    color: '#f08980',
	                    fontWeight: 'bold',
	                    fontSize: '18'
	                }
	            },
	            tooltip: {
	                trigger: 'item',
	                formatter: "{a} <br/>{b}: {c} ({d}%)"
	            },
	            legend: {
	                type: 'scroll',
	                orient: 'vertical',
	                right: 40,
	                top: 20,
	                bottom: 20,
	                itemGap: 30,
	                data: ["朋友圈", "会话", "搜一搜"],
	                formatter: function (info) {
	                    return '   74次    329人'
	                }
	            },
	            series: [
	                {
	                    name: '访问来源',
	                    type: 'pie',
	                    radius: ['55%', '90%'],
	                    labelLine: {
	                        normal: {
	                            show: true
	                        }
	                    },
	                    itemStyle: { // 此配置
	                        normal: {
	                            borderWidth: 2,
	                            borderColor: '#ffffff',
	                        },
	                        emphasis: {
	                            borderWidth: 0,
	                            shadowBlur: 2,
	                            shadowOffsetX: 0,
	                            shadowColor: 'rgba(0, 0, 0, 0.5)'
	                        }
	                    },
	                    data: channelData
	                }
	            ]
	        };
	        myChart.setOption(option);

        }
        

        //  男女性别比例
        function sexCharts(){
        	var myChart = echarts.init(document.getElementById('sex'));
	        var sexData = { //标准参数
	            id: 'multipleThree',
	            title: '',
	            legend: ['男', '女'],
	            barWidth: 60,
	            yAxis: [''],
	            xAxis: [
	                [230],
	                [640]
	            ],
	            color: ['#4a91e2', '#43b748'],
	        }
	
	
	        option1 = {
	            backgroundColor: '#fff',
	            legend: {
	                bottom: 0,
	                itemGap: 10,
	                itemWidth: 10,
	                itemHeight: 10,
	                data: sexData.legend
	            },
	            color: sexData.color,
	            grid: {
	                left: 40,
	                top: -30,
	                right: 40,
	                bottom: 50
	            },
	            xAxis: {
	                // show: false
	                splitLine: { show: false },//去除网格线
	                color: "#687284",
	                axisLine: {
	                    show: false
	                },
	                axisTick: {
	                    show: false
	                },
	                scale: false
	
	            },
	            yAxis: [{
	                show: false,
	                type: 'category',
	                axisLine: {
	                    show: false
	                },
	                axisTick: {
	                    show: false
	                },
	                axisLabel: {
	                    show: true,
	                    interval: '0',
	                    textStyle: {
	                        fontSize: 12,
	                        color: '#687284',
	                    },
	                },
	                data: sexData.yAxis
	            }],
	            series: [{
	                name: sexData.legend[0],
	                type: 'bar',
	                barWidth: sexData.barWidth || 12,
	                stack: '总量',
	                label: {
	                    normal: {
	                        show: true,
	                        position: 'left',
	                        color: '#4a91e2',
	                        fontSize: '10',
	                        formatter: function (params) {
	                            return '';
	                        }
	                    },
	
	                },
	                data: sexData.xAxis[0]
	            },
	            {
	                name: sexData.legend[1],
	                type: 'bar',
	                barWidth: sexData.barWidth || 12,
	                stack: '总量',
	                label: {
	                    normal: {
	                        show: true,
	                        position: 'right',
	                        color: 'red',
	                        fontSize: '10',
	                    },
	
	                },
	                data: sexData.xAxis[1]
	            },
	            ]
	        }
	
	        myChart.clear();
	        myChart.setOption(option1);
        }
        

        // 用户地区分布
        function getUserData(){
        	var userData = [
	            { name: '北京', value: 2 },
	            { name: '天津', value: 321 },
	            { name: '上海', value: 312 },
	            { name: '重庆', value: 333 },
	            { name: '河北', value: 543 },
	            { name: '河南', value: 444 },
	            { name: '陕西', value: 312 },
	            { name: '山东', value: 23 },
	            { name: '浙江', value: 222 },
	            { name: '广东', value: 66 },
	        ];
	        userDataCharts(userData);
	        userDataSort(userData);
	        userDataTable(userData);
        }
        function userDataCharts(userData){
	        var myChart = echarts.init(document.getElementById('user_area'));
	        var userDataArr = [];
	        userData.forEach(function (v, i) {
	            userDataArr.push(v.value);
	        })
	        var max = Math.max.apply(null, userDataArr);
	        var min = Math.min.apply(null, userDataArr);
	        option2 = {
	            // title: {
	            //     text: '企业销量',
	            //     subtext: '纯属虚构',
	            //     left: 'center'
	            // },
	            // tooltip: {
	            //     show: false,
	            //     trigger: 'item'
	            // },
	            legend: {
	                orient: 'vertical',
	                left: 'left',
	            },
	            visualMap: {
	                min: min,
	                max: max,
	                itemHeight: 600,
	                orient: 'horizontal',
	                left: '15%',
	                top: 'bottom',
	                inRange: {
	                    color: ['#a7cef2', '#6ba1dd']
	                },
	                calculable: true
	            },
	            series: [
	                {
	                    type: 'map',
	                    mapType: 'china',
	                    roam: false,
	                    itemStyle: {
	                        normal: {
	                            areaColor: 'RGB(163,200,237)'
	                        }
	                    },
	                    showLegendSymbol: false,
	                    label: {
	                        normal: {
	                            show: false
	                        },
	                        emphasis: {
	                            show: false
	                        }
	                    },
	                    data: userData
	                }
	            ]
	        };
	
	        myChart.clear();
	        myChart.setOption(option2);
        }

        // 用户列表
        function userDataSort(userData){
        	userData.sort(function (a, b) {
	            return b.value - a.value;
	        })
	        var listStr = `<table id="table1" style="border:0">
	                                    <thead>
	                                        <tr>
	                                            <th class="textC">省份</th>
	                                            <th class="textC wid20">用户数</th>
	                                            <th class="textC wid20"></th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>`;
	        userData.forEach(function (v, i) {
	            listStr += ` <tr>
	                            <td class="textC">${v.name}</td>
	                            <td class="textC">${v.value}</td>
	                            <td class="wid60">
	                                <div id="progressbar${i}"></div>
	                            </td>
	                        </tr>`
	        })
	        listStr += `</tbody>
	                </table>`;
	        // 设置进度条        
	        $("#user_list").html(listStr);
        }
        
        function userDataTable(userData) {
            $("#table1").DataTable({
                "filter": false,
                "lengthChange": false,
                "ordering": false,
                "paging": false,
                "language": {
                    "processing": '<div class="panel-overlay-content unselectable"><span class="panel-overlay-icon text-dark"><i class="fa fa-spinner fa-2x fa-spin"></i></span><h4 class="panel-overlay-title">数据加载中...</h4></div>',
                    "lengthMenu": "显示 _MENU_ 项结果",
                    "zeroRecords": "没有匹配结果",
                    "info": "",
                    "infoEmpty": "",
                    "infoFiltered": "(由 _MAX_ 项结果过滤)",
                    "infoPostFix": "",
                    "search": "搜索:",
                    "searchPlaceholder": "搜索...",
                    "url": "",
                    "emptyTable": "暂无数据",
                    "loadingRecords": "载入中...",
                    "infoThousands": ",",
                    "paginate": {
                        "first": "首页",
                        "previous": "上页",
                        "next": "下页",
                        "last": "末页"
                    }
                }
            });
            userData.forEach(function (v, i) {
                if(Math.round(parseInt(v.value) / max * 100) <=1){
                    $('#progressbar' + i).LineProgressbar({
                        percentage: 1,
                        fillBackgroundColor: '#41b84b',
                        height: '10px',
                        radius: '0px',
                    });
                }else {
                    $('#progressbar' + i).LineProgressbar({
                        percentage: Math.round(parseInt(v.value) / max * 100),
                        fillBackgroundColor: '#41b84b',
                        height: '10px',
                        radius: '0px',
                    });
                }     
            })
        }


        // 用户地区分布趋势
        $(".headers li").unbind().click(function () {
            $(this).addClass("usre_active").siblings().removeClass("usre_active");
            getUserTrendData();
        });
        $(".headers li").eq(0).click();
        //请求用户地区分布的数据
        function getUserTrendData(){
        	var userTrendData = {
	            time: ["2018-07-18", "2018-07-19", "2018-07-20", "2018-07-21", "2018-07-22", "2018-07-23", "2018-07-24", "2018-07-25", "2018-07-26", "2018-07-27", "2018-07-28", "2018-07-29", "2018-07-30", "2018-07-31", "2018-08-01", "2018-08-02", "2018-08-03", "2018-08-04", "2018-08-05", "2018-08-06",],
	            total: [21, 32, 54, 54, 76, 1, 65, 888, 432, 545, 541, 312, 76, 31, 65, 123, 1023, 321, 1300, 343],
	            count: [312, 76, 31, 65, 123, 1023, 321, 1300, 343, 21, 32, 54, 54, 76, 1, 65, 888, 432, 545, 541]
	        };
	        userTrendCharts(userTrendData);
        }
        //用户地区数据画图表
        function userTrendCharts(userTrendData){
        	var myChart = echarts.init(document.getElementById('user_trend'));
	        option3 = {
	            grid: {
	                left: 50,
	                top: 40,
	                right: 40,
	                bottom: 40
	            },
	            tooltip: {
	                trigger: 'axis',
	                axisPointer: {
	                    type: 'cross',
	                    crossStyle: {
	                        color: '#999'
	                    }
	                }
	            },
	            xAxis: [
	                {
	                    type: 'category',
	                    data: userTrendData.time,
	                    splitLine: { show: false },
	                    axisTick: {
	                        show: false
	                    }, 
	                    axisPointer: {
	                        type: 'shadow'
	                    },
	                    axisLabel: {
	                        textStyle: {
	                            color: '#928b8d'
	                        }
	                    },
	                    axisLine: {
	                        lineStyle:{
	                            color: '#928b8d'
	                        }
	
	                    }
	                }
	            ],
	            yAxis: [
	                {
	                    type: 'value',
	                    splitLine: { lineStyle:{ color: '#f3f3f3'} },
	                    axisLine: {
	                        show: false
	                    },
	                    axisTick: {
	                        show: false
	                    },
	                    axisLabel: {
	                        textStyle: {
	                            color: '#928b8d'
	                        }
	                    }
	                }
	            ],
	            series: [
	                {
	                    name: '蒸发量',
	                    type: 'line',
	                    "itemStyle": {
	                        "normal": {
	                            "color": "#46af44"
	                        }
	                    },
	                    data: userTrendData.total
	                },
	                {
	                    name: '降水量',
	                    type: 'line',
	                    "itemStyle": {
	                        "normal": {
	                            "color": "#4897d5"
	                        }
	                    },
	                    data: userTrendData.count
	                }
	
	            ]
	        };
	        myChart.clear();
	        myChart.setOption(option3);
        }
        


        ////////数据详细列表
        $(function () {
            $("#example").DataTable({
                "filter": false,
                "lengthChange": false,
                "language": {
                    "processing": '<div class="panel-overlay-content unselectable"><span class="panel-overlay-icon text-dark"><i class="fa fa-spinner fa-2x fa-spin"></i></span><h4 class="panel-overlay-title">数据加载中...</h4></div>',
                    "lengthMenu": "显示 _MENU_ 项结果",
                    "zeroRecords": "没有匹配结果",
                    "info": "",
                    "infoEmpty": "",
                    "infoFiltered": "(由 _MAX_ 项结果过滤)",
                    "infoPostFix": "",
                    "search": "搜索:",
                    "searchPlaceholder": "搜索...",
                    "url": "",
                    "emptyTable": "暂无数据",
                    "loadingRecords": "载入中...",
                    "infoThousands": ",",
                    "paginate": {
                        "first": "首页",
                        "previous": "上页",
                        "next": "下页",
                        "last": "末页"
                    }
                }
            });
        });
    </script>
</body>

</html>